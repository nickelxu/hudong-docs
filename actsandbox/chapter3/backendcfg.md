# 后台活动配置

### 后台活动配置

每一个活动都需要有一个JSON配置文件，描述了该活动的开始结束时间、奖品项目、发放条件、发放内容等。

该配置通过创建活动的时候，和logic.js一起打包。

### 后台活动配置的格式

以下是一个活动配置的样例节选，样例全集参考模拟器的data目录下的config.json：

	{
		"begTs": 1502294400, 
		"endTs": 1505404800, 
		"pkginfos": [
			{
				"pkgid": 2, 
				"status": 1, 
				"limit": {
					"total": 0, 
					"month": 0, 
					"week": 0, 
					"day": 1
				}, 
				"decScoreid": 1, 
				"decScore": 1, 
				"cond": [
					{
						"condname": "score", 
						"condid": 1, 
						"scoreid": 1, 
						"score": 1
					}
				], 
				"gifts": [
					{
						"handle": "score", 
						"giftid": 2, 
						"num": 1, 
						"desc": "二类积分"
					}
				]
			}
		]
	}

其节点信息如下：

| 参数名 | 说明 | 填写要求 | 备注 |
| - | - | - | - | 
| begTs | 活动开始时间 | 必选，unix时间戳格式 | - |
| endTs | 活动结束时间 | 必选，unix时间戳格式 | - |
| pkginfos | 兑换项信息 | 必选，JSON对象数组 | - |
| pkgid | 兑换项ID | 必选，非0正整数，代表一个活动兑换项目 | - |
| status | 兑换项状态 | 必选，1为有效兑换项，0为无效 | - |
| limit | 发放限制 | 必选，total为活动周期限制，month为月限制，week为周限制，day为日限制 | - |
| decScoreid | 扣减积分的ID | 可选，若兑换此兑换项需要扣减积分，指定扣减积分ID | - |
| decScore | 扣减积分的数量 | 可选，若兑换此兑换项需要扣减积分，指定扣减积分数量 | - |
| cond | 判断条件 | 可选，JSON数组类型，描述领取此兑换项需要满足的条件。无条件领取为空数组 | - |
| condname | 条件名称 | 必选，表示条件类型 | - |
| condid | 条件ID | 必选，表示条件编码 | - |
| scoreid | 积分ID | 可选，积分类型的条件，指定积分ID | - |
| score | 积分数 | 可选，积分类型的条件，指定要满足的积分数量 | - |
| gifts | 奖品信息 | 必选，指定该兑换项发放的奖品，JSON对象数组 | - |
| handle | 处理类型 | 必选，指定该奖品发放的方法，类似condname | - |
| giftid | 奖品ID | 必选，指定该兑换项发放的ID参数 | - |
| num | 奖品数量 | 必选，指定该兑换项发放的奖品数量 | - |